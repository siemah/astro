---
import Picture from "../../components/picture/index.astro";
export interface Props {
  name?: string;
  logo: {
    src: string;
    webp: string;
  } | null;
  pages?: Record<string, string>[];
  categories: Record<string, string>[];
  contacts?: {
    phone?: string;
    email?: string;
  } | null;
}

const { name: storeName, logo, categories, contacts } = Astro.props;
---

<header class="main-header bg-skyblue">
  <!-- contact and account nav -->
  {
    (!!contacts?.phone || !!contacts?.email) && (
      <div class="header-top pv-8 clearfix border-bottom-black">
        <div class="container">
          {!!contacts?.phone && (
            <a
              href={`tel://+213 ${contacts?.phone}`}
              class="header-link float-left"
            >
              <span class="icon icon_theme_black mr-14">
                <svg viewBox="0 0 12 20">
                  <g
                    stroke="none"
                    stroke-width="1"
                    fill="none"
                    fill-rule="evenodd"
                  >
                    <g transform="translate(-6.000000, -2.000000)">
                      <g id="Group-Copy">
                        <path
                          d="M15.8269118,2 C17.0166342,2.00151536 17.9805685,2.96561827 17.9819155,4.15517238 L17.9819155,4.15517238 L17.9819155,20.2490909 C17.9531234,21.2308724 17.1784404,22 16.2185469,22 L16.2185469,22 L8.15517225,22 C6.96544976,21.9986529 6.00134698,21.0345502 6,19.8448272 L6,19.8448272 L6,4.15517238 C6.00134698,2.96544988 6.96544976,2.00134698 8.15517225,2 L8.15517225,2 Z M17.1200159,18.4171944 L6.86206889,18.4171944 L6.86206889,19.844828 C6.86291076,20.558729 7.44143986,21.1372583 8.15517233,21.1379318 L8.15517233,21.1379318 L16.2185479,21.1379318 C16.7071659,21.1379318 17.1021685,20.7393931 17.1200159,20.2293917 L17.1200159,20.2293917 L17.1200159,18.4171944 Z M17.1200159,6.13910961 L6.86206889,6.13910961 L6.86206889,17.5551252 L17.1200159,17.5551252 L17.1200159,6.13910961 Z M13.9172261,10.0924918 C14.0898082,9.92832828 14.3627407,9.93539994 14.5267358,10.1079821 C14.6907308,10.2805643 14.6838276,10.5533283 14.5112455,10.7174919 L14.5112455,10.7174919 L11.5925026,13.49194 C11.5877881,13.4964859 11.5830737,13.5000219 11.5778541,13.504568 C11.5726346,13.5091139 11.5679201,13.51366 11.5620271,13.5182062 C11.556134,13.5227521 11.5495674,13.5272982 11.5440112,13.5311708 C11.5386233,13.5350434 11.5332353,13.5390844 11.527679,13.5426201 C11.5212808,13.5468294 11.5147144,13.5503653 11.5081478,13.5540695 C11.5025915,13.5572685 11.4972035,13.560636 11.4916472,13.5634984 C11.4845756,13.5670343 11.4775039,13.5700649 11.4702639,13.5730958 C11.4648759,13.5756213 11.4596564,13.5783152 11.4541001,13.5803356 C11.4465234,13.5833664 11.4389465,13.5857235 11.4312014,13.5882492 C11.4259819,13.5901012 11.4207622,13.5921218 11.4155427,13.5936371 C11.4071241,13.5959944 11.3988738,13.5978464 11.3902867,13.5996986 L11.3902867,13.5996986 L11.3761434,13.6030661 L11.3761434,13.6030661 L11.3468466,13.6074437 C11.3431424,13.6077804 11.3396066,13.6086224 11.3359023,13.608959 C11.3226009,13.6101377 11.3089628,13.6108112 11.2956612,13.6108112 L11.2744462,13.610285 L11.2744462,13.610285 L11.2532314,13.6086224 C11.2495271,13.6082855 11.2459913,13.6076122 11.2422871,13.6071069 C11.231848,13.60576 11.2215772,13.6044129 11.2113064,13.6023925 C11.2065921,13.6015507 11.2018776,13.6000352 11.1971631,13.599025 C11.1880711,13.5968362 11.1789789,13.5948158 11.1698868,13.5921218 C11.1646671,13.5906065 11.159616,13.5884177 11.1545649,13.5865655 C11.1463146,13.5837031 11.137896,13.5810092 11.1298141,13.5776417 L11.1298141,13.5776417 L11.1134819,13.5698965 C11.1059052,13.5663608 11.09816,13.5629933 11.0907515,13.5591207 L11.0907515,13.5591207 L11.0740826,13.5490182 C11.0671794,13.5449774 11.060276,13.5409364 11.0535412,13.5363903 L11.0535412,13.5363903 L11.0370406,13.5240992 C11.0308108,13.5193848 11.0244126,13.5148387 11.0183512,13.509619 C11.0129633,13.5052413 11.0082488,13.500527 11.0030293,13.4956442 C10.9978097,13.4907614 10.9922534,13.4862152 10.9872023,13.4809958 L10.9872023,13.4809958 L9.43783554,11.8957651 C9.2714832,11.7255402 9.27451391,11.4526078 9.4449072,11.2860871 C9.61513212,11.1197347 9.88806448,11.1229337 10.0544168,11.2931587 L10.0544168,11.2931587 L11.3066055,12.5741394 Z M15.8269124,2.86206901 L8.15517233,2.86206901 C7.44143986,2.86291088 6.86291076,3.44144002 6.86206889,4.15517254 L6.86206889,4.15517254 L6.86206889,5.27704084 L17.1200159,5.27704084 L17.1200159,4.15517254 C17.1193427,3.44144002 16.5408134,2.86291088 15.8269124,2.86206901 L15.8269124,2.86206901 Z"
                          id="Shape-Union"
                          fill="#000000"
                        />
                        <rect
                          id="Rectangle"
                          x="0"
                          y="0"
                          width="24"
                          height="24"
                        />
                      </g>
                    </g>
                  </g>
                </svg>
              </span>
              <span class="color-black">+213 {contacts?.phone}</span>
            </a>
          )}
          {!!contacts?.email && (
            <a
              href={`mailto://${contacts?.email}`}
              class="header-link float-right"
            >
              <span class="icon icon_theme_black mr-14">
                <svg viewBox="0 0 18 18">
                  <g
                    stroke="none"
                    stroke-width="1"
                    fill="none"
                    fill-rule="evenodd"
                  >
                    <g transform="translate(-1.000000, -1.000000)">
                      <g transform="translate(1.666748, 1.666666)">
                        <rect
                          id="Background"
                          x="0"
                          y="5.0862629e-05"
                          width="16.6542263"
                          height="16.6664543"
                        />
                        <path
                          d="M8.33321664,0 C4.96516438,0 1.9288098,2.02887943 0.639967709,5.14056126 C-0.648874444,8.25209979 0.0634554986,11.8337223 2.44497443,14.215383 C4.54715412,16.3262648 7.61689216,17.1532982 10.4950295,16.3841866 C13.3731684,15.6152191 15.6211519,13.3670926 16.3902627,10.489098 C17.1592314,7.61096039 16.3321983,4.5412221 14.2213155,2.43904311 C12.6631213,0.872288525 10.5428229,-0.00596149909 8.33321664,0 L8.33321664,0 Z M3.83178711,14.4425069 L3.83178711,13.7219026 C3.83178711,11.2359526 5.84708288,9.2205143 8.33317566,9.2205143 C10.8192683,9.2205143 12.8345642,11.2359526 12.8345642,13.7219026 L12.8345642,14.4425069 C10.1585834,16.4175714 6.50776791,16.4175714 3.83178711,14.4425069 L3.83178711,14.4425069 Z M13.5650752,13.8301868 L13.5650752,13.7219042 C13.5650752,10.8372034 11.218082,8.4902098 8.33323812,8.4902098 C5.4483942,8.4902098 3.10140038,10.8372034 3.10140038,13.7219042 L3.10140038,13.8301868 C1.59071311,12.3985369 0.735432054,10.4084931 0.736572266,8.32714291 C0.736572266,4.13833519 4.14442951,0.73047924 8.33323812,0.73047924 C12.5220465,0.73047924 15.929904,4.13833519 15.929904,8.32714291 C15.9309019,10.4084931 15.075763,12.3985369 13.564933,13.8301868 L13.5650752,13.8301868 Z"
                          id="Shape"
                          fill="#000000"
                        />
                        <path
                          d="M8.34986448,2.45244312 C6.7905282,2.45244312 5.52636719,3.71660413 5.52636719,5.27594042 C5.52636719,6.83527679 6.7905282,8.09943771 8.34986448,8.09943771 C9.90920085,8.09943771 11.1733618,6.83527679 11.1733618,5.27594042 C11.1715072,3.71731744 9.90848763,2.45429778 8.34986448,2.45244312 L8.34986448,2.45244312 Z M8.34988499,7.36898947 C7.1940072,7.36898947 6.25683594,6.43181844 6.25683594,5.27594066 C6.25683594,4.11992034 7.1940072,3.18289185 8.34988499,3.18289185 C9.50590562,3.18289185 10.442934,4.11992034 10.442934,5.27594066 C10.4416501,6.43139028 9.50533474,7.36770548 8.34988499,7.36898947 L8.34988499,7.36898947 Z"
                          id="Shape"
                          fill="#000000"
                        />
                      </g>
                      <rect id="Rectangle" x="0" y="0" width="20" height="20" />
                    </g>
                  </g>
                </svg>
              </span>
              <span class="color-black">{contacts?.email}</span>
            </a>
          )}
        </div>
      </div>
    )
  }
  <!-- end of contact and account nav -->

  <!-- main nav menu -->
  <div class="container">
    <nav
      class="container navbar navbar-expand-lg navbar-light pr-0 pl-0 pt-0 pb-0"
    >
      <div
        class="collapse navbar-collapse d-flex justify-content-between"
        id="navbarTogglerDemo01"
      >
        <div class="logo-container">
          <button
            class="navbar-toggler no-border pl-0 js-mobile__menu-trigger"
            type="button"
            data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <a class="navbar-brand" href="/">
            <Picture
              src={logo?.src}
              sources={[
                {
                  srcset: logo?.webp,
                },
              ]}
              loading={"lazy"}
              decoding={"async"}
              alt={storeName}
              height={50}
            />
          </a>
        </div>
        <!-- middle navbar-->
        <ul class="navbar-nav shop-navbar_middle mr-auto mt-2 mt-lg-0 ml-5">
          <li class="nav-item active dropdown">
            <a
              class="nav-link bg-green_hover pt-4 pb-4 pl-3 pr-3 mr-0"
              href="/"
            >
              <span class="nav-link__text color-light-black">Accueil</span>
            </a>
          </li>
          <li class="nav-item active dropdown">
            <a
              class="nav-link bg-green_hover pt-4 pb-4 pl-3 pr-3"
              href="/shop/1/"
            >
              <span class="nav-link__text color-light-black">Boutique</span>
            </a>
          </li>
          {
            categories?.length > 0 && (
              <li class="nav-item active dropdown">
                <a
                  class="nav-link bg-green_hover pt-4 pb-4 pl-3 pr-3 dropdown-toggle"
                  href="#"
                  role="button"
                  data-toggle="dropdown"
                >
                  <span class="nav-link__text color-light-black">
                    Catégories
                  </span>
                </a>
                <div
                  class="dropdown-menu dropdown-menu__image mt-0 pt-0 pb-0 no-border rounded-0"
                  aria-labelledby="dropdownMenuLink"
                >
                  <div class="pl-2">
                    {categories?.map((category) => (
                      <a
                        class="dropdown-item fw-300 color-light-black p-14 pt-2 pb-2 text-capitalize"
                        href={`/category/${category?.slug}/1/`}
                      >
                        {category?.name}
                      </a>
                    ))}
                  </div>
                </div>
              </li>
            )
          }
        </ul>
        <!-- end of middle navbar-->

        <!-- icons navbar-->
        <ul class="navbar-nav icons-menu mt-2 mt-lg-0 flex-row">
          <li class="nav-item">
            <a class="nav-link" href="/contact/">
              <span class="icon icon_theme_black">Contact</span>
            </a>
          </li>
          <li class="nav-item active">
            <a class="nav-link relative" href="/cart/">
              <span
                class="badge badge-pill bg-green rounded-circle color-white p-1 header-item__badge"
                >1</span
              >
              <span class="icon icon_theme_black">
                <svg viewBox="0 0 16 20">
                  <g
                    stroke="none"
                    stroke-width="1"
                    fill="none"
                    fill-rule="evenodd"
                  >
                    <g transform="translate(-4.000000, -2.000000)">
                      <path
                        d="M19.3020555,7.79878803 L15.7517945,7.79878803 L15.7517945,5.77296603 C15.7517945,3.68914304 14.0624824,2 11.9788291,2 C9.89500552,2 8.20586278,3.68914304 8.20586278,5.77296603 L8.20586278,7.79878803 L4.43289676,7.79878803 C4.19378892,7.79878803 4,7.99274573 4,8.23168468 L4,18.1039296 C4.0023674,20.2545477 5.74528425,21.9974639 7.89607101,22 L15.838881,22 C17.9896684,21.9974639 19.7325848,20.2545477 19.734952,18.1039296 L19.734952,8.23168468 C19.734952,7.99274573 19.5411633,7.79878803 19.3020555,7.79878803 L19.3020555,7.79878803 Z M9.07165527,5.77297089 C9.06761899,4.73165116 9.62091525,3.76777946 10.5220508,3.2459359 C11.4231864,2.72409233 12.5345138,2.72409233 13.4356495,3.2459359 C14.3367848,3.76777946 14.8900815,4.73165116 14.8860455,5.77297089 L14.8860455,7.79879284 L9.07165527,7.79879284 L9.07165527,5.77297089 Z M18.8690891,18.1039596 C18.8670601,19.7767 17.5115521,21.1322082 15.8388112,21.1342373 L7.89600042,21.1342373 C6.22325996,21.1322082 4.86758276,19.7767 4.86572266,18.1039596 L4.86572266,8.66461182 L8.20579222,8.66461182 L8.20579222,13.5137323 C8.20579222,13.7526708 8.39958114,13.9466291 8.63868907,13.9466291 C8.87779701,13.9466291 9.07158593,13.7526708 9.07158593,13.5137323 L9.07158593,8.66461182 L14.8859309,8.66461182 L14.8859309,13.5137323 C14.8859309,13.7526708 15.0797203,13.9466291 15.3188278,13.9466291 C15.5579361,13.9466291 15.7517246,13.7526708 15.7517246,13.5137323 L15.7517246,8.66461182 L18.8690891,8.66461182 L18.8690891,18.1039596 Z"
                        id="Shape"
                        fill="#000000"></path>
                      <rect x="0" y="0" width="24" height="24"></rect>
                    </g>
                  </g>
                </svg>
              </span>
            </a>
          </li>
        </ul>
        <!-- end of icons navbar-->
      </div>
    </nav>
  </div>
  <!-- end of main nav menu -->
</header>
